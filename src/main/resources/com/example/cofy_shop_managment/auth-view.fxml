<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Hyperlink?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.cofy_shop_managment.AuthController">

    <!-- Left Branding Section -->
    <left>
        <VBox alignment="CENTER" spacing="20" prefWidth="250" style="-fx-background-color: linear-gradient(to bottom, #1e7f72, #2ba084);">
            <Label text="â˜•" style="-fx-font-size: 60; -fx-text-fill: white;" />
            <Label text="Cafe Shop Management System" style="-fx-text-fill: white; -fx-font-size: 16;" wrapText="true" />
            <Button fx:id="toggleBtn" text="Create Account" onAction="#switchForm"
                    style="-fx-background-color: white; -fx-text-fill: #1e7f72; -fx-font-size: 14; -fx-background-radius: 10;" />
        </VBox>
    </left>

    <!-- Right Forms Section -->
    <center>
        <StackPane fx:id="formPane" alignment="CENTER">

            <!-- Login Form -->
            <VBox fx:id="loginPane" spacing="10" alignment="CENTER" maxWidth="250">
                <Label text="Login Account" style="-fx-font-size: 18; -fx-font-weight: bold;" />
                <TextField fx:id="loginUsername" promptText="Username" />
                <PasswordField fx:id="loginPassword" promptText="Password" />
                <Hyperlink text="Forgot Password?" onAction="#showForgotPassword" />
                <Button text="Login" onAction="#handleLogin"
                        style="-fx-background-color: #1e7f72; -fx-text-fill: white; -fx-background-radius: 10;" />
            </VBox>

            <!-- Register Form -->
            <VBox fx:id="registerPane" spacing="10" alignment="CENTER" maxWidth="250" visible="false">
                <Label text="Register Account" style="-fx-font-size: 18; -fx-font-weight: bold;" />
                <TextField fx:id="regUsername" promptText="Username" />
                <PasswordField fx:id="regPassword" promptText="Password" />
                <ComboBox fx:id="regQuestion" promptText="Select security question" />
                <TextField fx:id="regAnswer" promptText="Answer" />
                <Button text="Sign Up" onAction="#handleRegister"
                        style="-fx-background-color: #1e7f72; -fx-text-fill: white; -fx-background-radius: 10;" />
            </VBox>

            <!-- Forgot Password Form -->
            <VBox fx:id="forgotPasswordPane" spacing="10" alignment="CENTER" maxWidth="250" visible="false">
                <Label text="Reset Password" style="-fx-font-size: 18; -fx-font-weight: bold;" />
                <TextField fx:id="forgotUsername" promptText="Username" />
                <ComboBox fx:id="forgotQuestion" promptText="Security question" />
                <TextField fx:id="forgotAnswer" promptText="Answer" />
                <Button text="Verify" onAction="#handleForgotPassword"
                        style="-fx-background-color: #1e7f72; -fx-text-fill: white; -fx-background-radius: 10;" />
                <PasswordField fx:id="newPassword" promptText="New Password" visible="false" />
                <PasswordField fx:id="confirmPassword" promptText="Confirm Password" visible="false" />
                <Button fx:id="changePasswordBtn" text="Change Password" onAction="#handlePasswordChange" visible="false"
                        style="-fx-background-color: #1e7f72; -fx-text-fill: white; -fx-background-radius: 10;" />
            </VBox>

        </StackPane>
    </center>
</BorderPane>